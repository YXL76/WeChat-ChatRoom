<!--pages/chat/chatHistory/chatHistory.wxml-->
<view class="chat-page">
  <scroll-view class="chat-container" scroll-y="true" scroll-top="{{scrollTop}}" scroll-with-animation="true">
    <view wx:for="{{messageList}}" wx:key>
      <view wx:if="{{item.type == 'text'}}">
        <view wx:if="{{item.avatarUrl == userInfo.avatarUrl}}">
          <view class="message user-message">
            <image class="head head-left hvr-buzz-out" src="{{item.avatarUrl}}"></image>
            <view class="nickname">{{item.nickName}}：</view>
          </view>
          <view class="content user-message">
            <text class="text user-text">{{item.content}}</text>
          </view>
        </view>
        <view wx:else>
          <view class="message other-message">
            <image class="head head-right hvr-buzz-out" src="{{item.avatarUrl}}"></image>
            <view class="nickname">{{item.nickName}}：</view>
          </view>
          <view class="content other-message">
            <text class="text other-text">{{item.content}}</text>
          </view>
        </view>
      </view>
      <view wx:elif="{{item.type == 'system'}}">
        <view wx:if="{{system_num == true}}" class="system-message">{{item.content}}</view>
      </view>
      <view wx:elif="{{item.type == 'system_in'}}">
        <view wx:if="{{system_in == true}}" class="system-message">{{item.content}}</view>
      </view>
      <view wx:else>
        <view wx:if="{{system_out == true}}" class="system-message">{{item.content}}</view>
      </view>
    </view>
  </scroll-view>
</view>